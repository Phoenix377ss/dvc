stages:
  download_data:
    cmd: python .\src\data\data_download.py
    deps:
    - .\src\data\data_download.py
    outs:
    - .\data\initial_data\initial_data.csv
    - .\data\initial_data\target.csv
  prepocess_data:
    cmd: python .\src\data\data_prepare.py
    deps:
    - .\data\initial_data\initial_data.csv
    - .\src\data\data_prepare.py
    outs:
    - .\data\prepared_data\prepared_data.csv
  training:
    cmd: python .\src\train\training.py --config .\configs\params.yaml
    deps:
    - .\data\initial_data\target.csv
    - .\data\prepared_data\prepared_data.csv
    - .\src\train\training.py
    params:
      - configs/params.yaml:
        - prepare.random_state
        - prepare.test_size
        - train.seed
        - train.test_size
        - train.val_size
    outs:
    - .\models\linear_model.pkl
    metrics:
    - .\metrics\metrics.json:
        cache: false
